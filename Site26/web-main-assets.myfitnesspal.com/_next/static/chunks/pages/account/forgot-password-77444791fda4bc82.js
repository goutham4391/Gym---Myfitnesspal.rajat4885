(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3200],{48743:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(29630),a=n(59499),s=n(4730),o=n(85893),i=["sx","children"];function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){var t=e.sx,n=e.children,a=(0,s.Z)(e,i);return(0,o.jsx)(r.Z,u(u({variant:"h2",component:"h1",sx:u(u({},t),{},{color:"text.primary"}),paragraph:!0},a),{},{children:n}))}},81749:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return O}});var r=n(36336),a=n(40793),s=n(30120),o=n(9144),i=n(67836),c=n(50029),u=n(87794),p=n.n(u),l=n(74231),d=n(67294),f=n(11163),h=n(16959),m=n(57045),x=n(75359),w=n(62056),v=n(48743),y=n(38108),g=n(11235),b=n(97519),j=n(85893),k=l.Ry().shape({email:l.Z_().default("").email()}),Z={container:{px:4,pt:14},root:{display:"flex",justifyContent:"center"},forgotPasswordContainer:{width:500,maxWidth:"100%",height:452,boxShadow:{xs:"none",md:"0px 0px 20px 5px rgb(0 0 0 / 10%);"},alignItems:{xs:"left",sm:"center"},pt:17,borderRadius:4},textContainer:{alignItems:"center",textAlign:{xs:"left",sm:"center"},pt:3,px:{xs:0,sm:20}},emailInputBox:{bgcolor:"white",width:"100%",height:"auto",my:4},helpLink:{color:"primary.main",textDecoration:"none","&:hover":{color:"common.status.warning"}},submitButton:{my:5,width:"100%",fontWeight:700,borderRadius:5},inputField:{bgcolor:"common.neutrals.white"}},_=function(){var e=k.getDefaultFromShape(),t=(0,d.useState)(!1),n=t[0],r=t[1],a=(0,d.useState)(e.email),u=a[0],l=a[1],b=(0,d.useState)(!1),_=b[0],O=b[1],E=(0,d.useState)(!1),S=E[0],P=E[1],R=(0,d.useState)(!1),C=R[0],T=R[1],A=(0,d.useState)(!0),I=A[0],N=A[1],B=(0,f.useRouter)().locale,D=(0,h.wx)(),L=(0,m.Fu)(B),F="https://myfitnesspal.zendesk.com/hc/".concat(L,"/articles/360032273512-I-have-forgotten-my-password-or-my-username-How-can-I-retrieve-them-"),q="https://support.myfitnesspal.com/hc/".concat(L,"/requests/new"),z=(0,d.useCallback)((0,c.Z)(p().mark((function e(){var t;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.isValid({email:u});case 2:t=e.sent,O(t),C&&0===u.length&&O(!1);case 5:case"end":return e.stop()}}),e)}))),[u,C]);return(0,d.useEffect)((function(){z(u)}),[u,z]),(0,d.useEffect)((function(){u.length>0&&N(!1)}),[u,I]),(0,j.jsx)(s.Z,{component:"main",sx:Z.root,children:(0,j.jsxs)(o.Z,{sx:Z.forgotPasswordContainer,children:[(0,j.jsx)(v.Z,{children:D(n?"passwordReset.password.sent":"passwordReset.forgot.password")}),n?(0,j.jsxs)(s.Z,{sx:Z.textContainer,children:[(0,j.jsx)(y.Z,{color:"textSecondary",children:D("passwordReset.reset.your.password",{link:(0,j.jsx)(g.Z,{href:q,sx:Z.helpLink,children:D("passwordReset.contact.support.team")})})}),(0,j.jsx)(g.Z,{passHref:!0,href:"/account/login",children:(0,j.jsx)(w.Z,{sx:Z.submitButton,variant:"contained",disableElevation:!0,children:D("passwordReset.return.to.login")})})]}):(0,j.jsx)("form",{onSubmit:function(){(0,x.kv)({email:u}),r(!0)},children:(0,j.jsxs)(o.Z,{sx:Z.textContainer,children:[(0,j.jsx)(y.Z,{color:"textSecondary",children:D("passwordReset.enter.email")}),(0,j.jsx)(i.Z,{sx:Z.emailInputBox,type:"email",id:"outlined-required",value:u,onChange:function(e){l(e.target.value)},onBlur:function(e){return t=e.target.value,T(!0),z(t),void P(!_);var t},label:D("emailAddressCapitalized"),helperText:!_&&S&&D("emailAddressError.isRequiredTryAgain")||C&&!_&&D("emailAddressError.isRequiredTryAgain"),error:!_&&S||C&&!_}),(0,j.jsx)(w.Z,{variant:"contained",sx:Z.submitButton,type:"submit",disableElevation:!0,disabled:!_&&S||C&&!_||I,children:D("submitCapitalized")}),(0,j.jsx)(g.Z,{href:F,children:(0,j.jsx)(y.Z,{component:"p",sx:Z.helpLink,children:D("passwordReset.need.help")})})]})})]})})};_.Layout=function(e){var t=e.children;return(0,j.jsxs)(s.Z,{bgcolor:"common.background.midground",children:[(0,j.jsx)(a.ZP,{}),(0,j.jsx)(b.Z,{hideLogin:!0,hideHamburgerMenu:!0}),(0,j.jsx)(r.Z,{sx:Z.container,fixed:!0,children:t})]})};var O=!0;t.default=_},75359:function(e,t,n){"use strict";n.d(t,{Fy:function(){return u},J_:function(){return y},PQ:function(){return l},kv:function(){return f},s2:function(){return m},y5:function(){return w}});var r=n(4730),a=n(50029),s=n(87794),o=n.n(s),i=n(43433),c=["client","captchaToken"];function u(e){return p.apply(this,arguments)}function p(){return(p=(0,a.Z)(o().mark((function e(t){var n,r,a,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,r=t.client,a=void 0===r?i.o:r,e.next=3,a.post("/api/account/profiles/any/emails/confirm",{verificationToken:n});case 3:return s=e.sent,c=s.data,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return d.apply(this,arguments)}function d(){return(d=(0,a.Z)(o().mark((function e(t){var n,r,a,s,c,u,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,r=t.password,a=t.captchaToken,s=t.client,c=void 0===s?i.o:s,e.next=3,c.post("/api/account/password_reset",{token:n,password:r},{params:{operation:"reset"},headers:{"captcha-token":a}});case 3:return u=e.sent,p=u.data,e.abrupt("return",p);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=(0,a.Z)(o().mark((function e(t){var n,r,a,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,r=t.client,a=void 0===r?i.o:r,e.next=3,a.post("/api/account/password_reset",{email:n,app_name:"MYFITNESSPAL"},{params:{operation:"initiate"}});case 3:return s=e.sent,c=s.data,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return x.apply(this,arguments)}function x(){return(x=(0,a.Z)(o().mark((function e(t){var n,r,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.client,r=void 0===n?i.o:n,e.next=3,r.get("/api/services/account/email_settings");case 3:return a=e.sent,s=a.data,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return v.apply(this,arguments)}function v(){return(v=(0,a.Z)(o().mark((function e(t){var n,a,s,u,p,l,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.client,a=void 0===n?i.o:n,s=t.captchaToken,!(u=(0,r.Z)(t,c)).email){e.next=8;break}return p=u.email,l=u.currentEmail,d=u.password,e.next=5,a.patch("/api/services/account/email_settings",{email:p,currentEmail:l,password:d},{headers:{"captcha-token":s}});case 5:delete u.email,delete u.currentEmail,delete u.password;case 8:return e.next=10,a.patch("/api/services/account/email_settings",u);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return g.apply(this,arguments)}function g(){return(g=(0,a.Z)(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.o.get("/api/services/account/clear_cached_consents");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},48857:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/forgot-password",function(){return n(81749)}])}},function(e){e.O(0,[1054,939,4231,1738,9774,2888,179],(function(){return t=48857,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=forgot-password-77444791fda4bc82.js.map